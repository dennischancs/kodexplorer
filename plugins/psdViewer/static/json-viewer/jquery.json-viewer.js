/**
 * jQuery json-viewer
 * @author: Alexandre Bodelot <alexandre.bodelot@gmail.com>
 */
!function(a){function b(a){return a instanceof Object&&Object.keys(a).length>0}function c(a){var b=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)}function d(a,e){var g,h,i,j,f="";if("string"==typeof a)a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),f+=c(a)?'<a href="'+a+'" class="json-string">'+a+"</a>":'<span class="json-string">"'+a+'"</span>';else if("number"==typeof a)f+='<span class="json-literal">'+a+"</span>";else if("boolean"==typeof a)f+='<span class="json-literal">'+a+"</span>";else if(null===a)f+='<span class="json-literal">null</span>';else if(a instanceof Array)if(a.length>0){for(f+='[<ol class="json-array">',g=0;g<a.length;++g)f+="<li>",b(a[g])&&(f+='<a href class="json-toggle"></a>'),f+=d(a[g],e),g<a.length-1&&(f+=","),f+="</li>";f+="</ol>]"}else f+="[]";else if("object"==typeof a)if(h=Object.keys(a).length,h>0){f+='{<ul class="json-dict">';for(i in a)a.hasOwnProperty(i)&&(f+="<li>",j=e.withQuotes?'<span class="json-string">"'+i+'"</span>':i,f+=b(a[i])?'<a href class="json-toggle">'+j+"</a>":j,f+=": "+d(a[i],e),--h>0&&(f+=","),f+="</li>");f+="</ul>}"}else f+="{}";return f}a.fn.jsonViewer=function(c,e){return e=e||{},this.each(function(){var f=d(c,e);b(c)&&(f='<a href class="json-toggle"></a>'+f),a(this).html(f),a(this).off("click"),a(this).on("click","a.json-toggle",function(){var c,d,b=a(this).toggleClass("collapsed").siblings("ul.json-dict, ol.json-array");return b.toggle(),b.is(":visible")?b.siblings(".json-placeholder").remove():(c=b.children("li").length,d=c+(c>1?" items":" item"),b.after('<a href class="json-placeholder">'+d+"</a>")),!1}),a(this).on("click","a.json-placeholder",function(){return a(this).siblings("a.json-toggle").click(),!1}),1==e.collapsed&&a(this).find("a.json-toggle").click()})}}(jQuery);